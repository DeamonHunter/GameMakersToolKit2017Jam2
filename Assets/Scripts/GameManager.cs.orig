using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.SceneManagement;

public class GameManager : MonoBehaviour {

    public static GameManager instance = null;
    public GameObject player;
    private float maxComboTime = 3.0f;
    public float currentCombo;
    public float maxCombo;
    public float enemyDeathTime;
    public bool newEnemyDeath;
    public float comboTimeRemaining;
    int timeToAdd;

    void Awake() {

        if (instance == null)
            instance = this;

        else if (instance != this)
            Destroy(gameObject);

        currentCombo = 0;
        maxCombo = 10;
        enemyDeathTime = -3242094309823;
        newEnemyDeath = true;
        comboTimeRemaining = 0;
    }

    private void Update() {
        if (Input.GetKeyDown(KeyCode.Escape))
            SceneManager.LoadScene(0);

        comboTimeRemaining -= Time.deltaTime;
        if (comboTimeRemaining <= 0) {
            currentCombo = 0;
<<<<<<< HEAD
=======
            maxComboTime = 3.0f;

        } else if (newEnemyDeath && Time.time <= enemyDeathTime + maxComboTime && currentCombo <= maxCombo) {
            currentCombo += 1;
            maxComboTime += 3.0f;
            newEnemyDeath = false;
>>>>>>> ad5bc50d8bd04a342622d7c62f17b84ca02c6439
        }
    }

    public void ComboTracker(float timeToAdd) {
        comboTimeRemaining += 3.0f;

    }

   // public void Streak() {
     //   if (comboTimeRemaining <= 0) {
       //     currentCombo = 0;

        //} else if (newEnemyDeath && Time.time <= enemyDeathTime + maxComboTime && currentCombo <= maxCombo) {
         //   currentCombo += 1;
          //  maxComboTime += 3.0f;
         //   newEnemyDeath = false;
       // }

   // }
}
